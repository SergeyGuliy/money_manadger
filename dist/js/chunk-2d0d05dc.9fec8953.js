(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d05dc"],{6859:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"app-content"},[r("div",{staticClass:"app-page"},[r("div",[r("div",{staticClass:"page-title"},[r("h3",[t._v("Планирование")]),r("h4",[t._v(t._s(t._f("currency")(t.bill,"UAH")))])]),t.loading?r("Loader"):t.categoriesOutcome.length?r("section",t._l(t.categoriesOutcome,(function(e){return r("div",{key:e.Id},[r("p",[r("strong",[t._v(t._s(e.title))]),t._v("\n\t\t\t\t\t\t"+t._s(t._f("currency")(e.spend,"UAH"))+" из "+t._s(t._f("currency")(e.moneyAmount,"UAH"))+"\n\t\t\t\t\t")]),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[r("div",{staticClass:"determinate",class:[e.progressColor],style:{width:e.progressPercent+"%"}})])])})),0):r("p",{staticClass:"center"},[t._v("Категорий пока нет "),r("router-link",{attrs:{to:"/categories"}},[t._v("Добавить категорию")])],1)],1)])])},o=[],c=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),s=(r("96cf"),r("3b8d")),i=(r("0d94"),r("5bb3"));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(r,!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={name:"Planning",data:function(){return{loading:!0,categoriesOutcome:[],records:[]}},computed:{bill:function(){return this.$store.getters.info.bill}},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("fetchRecords");case 2:return e=t.sent,t.next=5,this.$store.dispatch("fetchCategories");case 5:r=t.sent,this.loading=!1,this.categoriesOutcome=r.map((function(t){var r,n=e.filter((function(e){return e.Id===t.id})).filter((function(t){return"outcome"===t.type})).reduce((function(t,e){return t+ +e.amount}),0),o=100*n/t.moneyAmount,c=o>100?100:o,s=t.moneyAmount-n,a="".concat(s<0?"Превышение на ":"Осталось"," ").concat(Object(i["a"])(Math.abs(s)));return r=o<60?"green":o<100?"yellow":"red",u({},t,{progressPercent:c,progressColor:r,spend:n,tooltip:a})}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},p=l,d=r("2877"),f=Object(d["a"])(p,n,o,!1,null,"6f01381f",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0d05dc.9fec8953.js.map